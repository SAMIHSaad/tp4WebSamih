<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="jakarta.faces.html"
      xmlns:f="jakarta.faces.core"
      xmlns:p="http://primefaces.org/ui">
<h:head>
    <h:outputStylesheet name="css/mycsslayout.css"/>
    <h:outputScript name="js/script.js" target="head"/>
    <title>Conversation</title>
</h:head>
<h:body>
    <f:view>

        <h:messages errorStyle="color: red" showDetail="true" showSummary="false" globalOnly="true"/>

        <h:form id="form">

            <h:panelGrid id="paneltotal" columns="1" columnClasses="topAligned">

                <h:panelGrid id="panelrag" columns="1" style="vertical-align: top;">
                    <h:panelGroup>
                        <h:outputText value="Question RAG :"/>
                        <button onclick="copyToClipboard('form:ragQuestion')">Copier question</button>
                        <button onclick="clearRag()">Effacer question et réponse RAG</button>
                    </h:panelGroup>
                    <h:inputTextarea id="ragQuestion" value="#{bb.ragQuestion}" title="Question RAG"
                                     cols="50" rows="5"/>
                    <h:commandButton value="Envoyer la question RAG" action="#{bb.askRag}"/>
                    <h:panelGroup>
                        <h:outputText value="Réponse RAG :"/>
                        <button onclick="copyToClipboard('form:ragAnswer')">Copier réponse</button>
                    </h:panelGroup>
                    <h:inputTextarea id="ragAnswer" value="#{bb.ragAnswer}" title="Réponse RAG"
                                     cols="50" rows="15"/>
                </h:panelGrid>

            </h:panelGrid>
        </h:form>
    </f:view>

    <script>
        function clearRag() {
            document.getElementById('form:ragQuestion').value = '';
            document.getElementById('form:ragAnswer').value = '';
        }
    </script>
</h:body>
</html>